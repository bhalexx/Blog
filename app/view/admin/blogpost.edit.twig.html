{% extends 'admin/layout.twig.html' %}

{% import 'templates/form.twig.html' as form %}

{% block scripts %}
    <script type="text/javascript" src="{{ base_url }}vendor/ckeditor/ckeditor/ckeditor.js"></script>
    <script type="text/javascript" src="{{ base_url }}public/js/admin/ckeditor.manager.js"></script>
    
    <script type="text/javascript" src="{{ base_url }}public/js/lib/select2.min.js"></script>
    <script type="text/javascript" src="{{ base_url }}public/js/admin/select2.manager.js"></script>
    <script type="text/javascript" src="{{ base_url }}public/js/admin/blogpost.js"></script>
{% endblock %}

{% block style %}
   	<link href="{{ base_url }}public/css/lib/select2.min.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
	<div class="row">
		<div class="col-xs-12">
			<h3>Modifier un article</h3>
			<hr />
			<form method="POST" action="" class="form" enctype="multipart/form-data">
				{{ form.input('title', 'Titre de l\'article', { class: 'col-xs-12', value: post.title } ) }}
				{{ form.textarea('hook', 'Chap√¥', { class: 'col-xs-12', value: post.hook }) }}
				{{ form.textarea('content', 'Contenu', { class: 'col-xs-12', value: post.content }) }}
				{{ form.input('author', 'Auteur', { class: 'col-xs-12', value: post.author }) }}
				<div class="picture">
					<img src="{{ base_url }}{{ picture_repository }}{{ post.main_picture }}" class="img-responsive" />
				</div>
				{{ form.input('picture', 'Modifier l\'image principale', { type: 'file', class: 'col-xs-12' }) }}
				{{ form.select('tags', 'Tags', tags, 'id', 'label', { class: 'col-xs-12', multiple: true, insertBlank: false }) }}
				{{ form.checkbox('visible', 'Rendre public', { class: 'col-xs-12', checked: post.visible }) }}
				{{ form.checkbox('comments_enabled', 'Activer commentaires', { class: 'col-xs-12', checked: post.comments_enabled }) }}
				{{ form.hiddenInput('token', token) }}
				{{ form.submit('Sauvegarder', { class: 'col-xs-12', inputClass: 'btn btn-primary submit' }) }}
			</form>
		</div>
	</div>
{% endblock %}